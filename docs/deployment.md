# Deployment Process Documentation

This document was automatically generated by watching the deployment process.

## Changes Detected

### 2025-11-04 10:50:19

```
 M docs/deployment.md
?? .claude/
```

### 2025-11-04 10:50:21

```
 M docs/deployment.md
```

### 2025-11-04 11:34:51

```
 M docs/deployment.md
?? watch_deployment.sh
```

**New file: watch_deployment.sh**

```
#!/bin/bash
cd /home/alex/repos/homelab-demo
echo "# Deployment Process Documentation" > docs/deployment.md
echo "" >> docs/deployment.md
echo "This document was automatically generated by watching the deployment process." >> docs/deployment.md
echo "" >> docs/deployment.md
echo "## Changes Detected" >> docs/deployment.md
echo "" >> docs/deployment.md

last_status=""
while true; do
    current_status=$(git status --short 2>/dev/null)
    
    if [ "$current_status" != "$last_status" ] && [ -n "$current_status" ]; then
        timestamp=$(date '+%Y-%m-%d %H:%M:%S')
        echo "" >> docs/deployment.md
        echo "### $timestamp" >> docs/deployment.md
        echo '```' >> docs/deployment.md
        echo "$current_status" >> docs/deployment.md
        echo '```' >> docs/deployment.md
```

 Bash(ps aux | grep -v grep | grep watch_deployment.sh)
  ⎿  alex      524720  0.0  0.0   9084  6416 ?        Ss   10:50   0:00 /usr/bin/zsh -c -l source /home/alex/.claude/shell-snapshots/snapshot-zsh-1762249673394-j0xbmi.sh && eval /tmp/watch_deployment.sh \< /dev/null && pwd -P >| /tmp/claude-f402-cwd
     alex      524740  0.0  0.0   7840  5620 ?        S    10:50   0:01 /bin/bash /tmp/watch_deployment.sh

● Yes, the documentation watcher is still running!

  The process details:

- PID: 524740
- Command: /bin/bash /tmp/watch_deployment.sh
- Started: 10:50
- Status: Active (S - sleeping/waiting for events)

  The watcher is monitoring for changes to your deployment documentation.

## GitHub Secrets Guide

### Repository Secret
Use this if:
- The secret has the same value across all environments
- All workflows/branches need access to it
- Examples: API tokens, service account keys, Docker registry credentials

### Environment Secret
Use this if:
- You have different values per environment (staging vs production)
- You want deployment protection rules (required reviewers, wait timers)
- You want to restrict which branches can deploy (e.g., only main can access production secrets)
- Examples: production database URLs, production API keys, environment-specific tokens

### Deploy Key
Use this if:
- You need to clone/pull from a private repository during your workflow
- It's specifically for Git operations, not general secrets
- Example: Accessing another private repo as a dependency

### Recommendation for most cases
- Start with repository secrets for simplicity if you don't need per-environment values
- Upgrade to environment secrets when you need:
  - Different credentials per environment
  - Manual approval before deployments
  - Branch protection (only certain branches can deploy to production)

### Example Usage
```yaml
jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: production  # Uses environment secrets + protection rules
    steps:
      - uses: actions/checkout@v4
      - name: Deploy
        env:
          API_KEY: ${{ secrets.API_KEY }}  # Same syntax for both types
```

The syntax in workflows is identical - `${{ secrets.NAME }}` - but environment secrets give you extra control and protection.
